{
  "hash": "0ec11ef4c6c0d1ab0e7bf9873fe498e3",
  "result": {
    "engine": "knitr",
    "markdown": "# Data Types {#sec-data-types}\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n## GDAL data types\n\nThe following Numeric data types are supported by `gdal`:\n\n---\n\n| Data type         | Minimum        | Maximum       | Size[^1]| Factor |\n|-------------------|---------------:|--------------:|--------:|-------:| \n| Byte              | 0              | 255           | 39M  \t |     1x |\n| UInt16            | 0              | 65,535        | 78M  \t |     2x |\n| Int16, CInt16     | -32,768        | 32,767        | 78M  \t |     2x |\n| UInt32            | 0              | 4,294,967,295 | 155M \t |    ~4x |\n| Int32, CInt32     | -2,147,483,648 | 2,147,483,647 | 155M \t |    ~4x |\n| Float32, CFloat32 | -3.4E38        | 3.4E38        | 155M \t |    ~4x |\n| Float64, CFloat64 | -1.79E308      | 1.79E308      | 309M \t |    ~8x | \n\n: The possible ranges of different datatypes in `gdal` (source: @amatulli2024)\n\n[^1]: Difference in file size using constant dataset (same values and resolution) and varying the datatype\n\n:::{.callout-note .notes collapse=\"true\"}\n\n\n- If you store categorical data, use integer datatype and store the corespondence in the metadata\n- Always be minimalistic about which datatype you need. \n- Question if you have a continuous value from 0 to 1, which datatype do you use?\n  - Not `Float32`! But Multiply by 100 and use `Byte` or by 1000 (if you need more precision) and use `UInt16`\n- Question: if you are measuring temperature, and your values are floating point ranging is -20 to +40 degrees, what datatype are you going to use?\n  - Not CFloat32!\n  - Multiply by 100 and use `CInt16`\n- Question: if you compute NDVI and have values in the range 0 - 1, what datatype do you use?\n  - Not `Float32`, but not `CInt16` either:\n  - Transform the values to 0 - 255\n\n:::\n\n\n---\n\n## Rescaling values to 0 - 255\n\nFrom [Wikipedia](https://en.wikipedia.org/wiki/Feature_scaling#Rescaling_(min-max_normalization)): \n\n> To rescale a range between an arbitrary set of values [a, b], the formula becomes: \n> $$x' = a + \\frac{(x-min(x))\\times(b - a)}{max(x)-min(x)}$$\n\nLet's use our values and solve this equation:\n\n- `min(x)` and `max(x)`: `-1` and `1` respectively\n- `a` and `b`: 0 and 255 respectively\n\n\\begin{align}\n\nx' &= 0 + \\frac{(x+1)\\times 255}{2} \\\\\n\nx' &= \\frac{255x+255}{2} \\\\\n\nx' &= 127x+127.5 \\\\\n\n\\end{align}\n\n\n\n---\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](lesson3-1-datatypes_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n\nNote: \n\n- $y = ax + b$\n- a = `scale` and b = `offset`\n\n\n",
    "supporting": [
      "lesson3-1-datatypes_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}